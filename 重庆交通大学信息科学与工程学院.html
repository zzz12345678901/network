<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>重庆交通大学信息科学与工程学院</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}
#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    padding-bottom: .3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
   padding-bottom: .3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}
h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}


</style>
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node'><p><span>重庆交通大学信息科学与工程学院</span></p><p><span>计算机网络实验报告</span></p><p>&nbsp;</p><p><span>班     级：  计科1904班              </span></p><p><span>姓名   学号：   张祝齐631907060632               </span></p><p><span>实验所属课程：    计算机网络         </span></p><p><span>指 导 教 师 ：      王勇          </span></p><p><span>实验完成时间：  2021   年  12  月  30  日</span></p><p>&nbsp;</p><p><span> </span></p><p><span>目录</span></p><p><a href='#_Toc13774 '><span>计算机网络实验</span><span>	</span></a></p><p><a href='#_Toc22402 '><span>一、 验证性实验</span><span>	</span></a></p><p><a href='#_Toc11842 '><span>1、ipconfig</span><span>	</span></a></p><p><a href='#_Toc24219 '><span>2、 ping</span><span>	</span></a></p><p><a href='#_Toc14128 '><span>3、tracert</span><span>	</span></a></p><p><a href='#_Toc6725 '><span>4、ARP</span><span>	</span></a></p><p><a href='#_Toc28025 '><span>5、DHCP</span><span>	</span></a></p><p><a href='#_Toc30131 '><span>6、netstat</span><span>	</span></a></p><p><a href='#_Toc12793 '><span>7、DNS</span><span>	</span></a></p><p><a href='#_Toc12024 '><span>8、cache</span><span>	</span></a></p><p><a href='#_Toc20594 '><span>二、 Wireshark实验</span><span>	</span></a></p><p><a href='#_Toc22733 '><span>1、数据链路层</span><span>	</span></a></p><p><a href='#_Toc5843 '><span>2、网络层</span><span>	</span></a></p><p><a href='#_Toc16174 '><span>3、传输层</span><span>	</span></a></p><p><a href='#_Toc10182 '><span>4、应用层</span><span>	</span></a></p><p><a href='#_Toc28214 '><span>三、Cisco Packet Tracer 实验</span><span>	</span></a></p><p><a href='#_Toc27307 '><span>1、直接连接两台PC构建LAN</span><span>	</span></a></p><p><a href='#_Toc21679 '><span>2、用交换机构建LAN</span><span>	</span></a></p><p><a href='#_Toc19561 '><span>3、交换机接口地址</span><span>	</span></a></p><p><a href='#_Toc2081 '><span>4、生成树协议</span><span>	</span></a></p><p><a href='#_Toc24501 '><span>5、路由器配置初步</span><span>	</span></a></p><p><a href='#_Toc7791 '><span>6、静态路由</span><span>	</span></a></p><p><a href='#_Toc8398 '><span>7、动态路由RIP</span><span>	</span></a></p><p><a href='#_Toc28991 '><span>8、动态路由OSPF</span><span>	</span></a></p><p><a href='#_Toc32689 '><span>9、基于端口的网络地址翻译PAT</span><span>	</span></a></p><p><a href='#_Toc448 '><span>10、虚拟局域网VLAN</span><span>	</span></a></p><p><a href='#_Toc11602 '><span>11、虚拟局域网管理VTP</span><span>	</span></a></p><p><a href='#_Toc10127 '><span>12、VLAN间的通信</span><span>	</span></a></p><p><a href='#_Toc19308 '><span>13、DHCP、DNS及Web服务器简单配置</span><span>	</span></a></p><p><a href='#_Toc19398 '><span>14、WLAN初步配置</span><span>	</span></a></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span>计算机网络实验</span></p><p><span> </span></p><p><span>一、验证性实验</span></p><p><span>1、ipconfig</span></p><p><span>实作一</span></p><p><span>使用 ipconfig/all 查看自己计算机的网络配置，尽可能明白每行的意思，特别注意 IP 地址、子网掩码 Subnet Mask、网关 Gateway。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps83FD.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps83FE.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps83FF.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8400.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>实作二</span></p><p><span>使用 ipconfig/all 查看旁边计算机的网络配置，看看有什么异同。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8411.tmp.png" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>2、ping</span></p><p><span>实作一</span></p><p><span>要测试到某计算机如 重庆交通大学 Web 服务器的连通性，可以使用 ping </span><a href='http://www.cqjtu.edu.cn' target='_blank' class='url'>www.cqjtu.edu.cn</a><span> 命令，也可直接使用 IP 地址。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8412.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>实作二</span></p><p><span>使用 ping/? 命令了解该命令的各种选项并实际使用。</span></p><p><span>ping/?</span></p><p><span>该命令可以查看ping命令的各种选项及作用</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8413.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>ping -t </span><a href='http://www.cqjtu.edu.cn'><span>www.cqjtu.edu.cn</span></a></p><p><span>-t选项的作用是死ping</span></p><p><span>加入-t选项后，ping命令会一直执行下去，直到管理员使用ctrl+c进行终止。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8433.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>ping -a 127.0.0.1</span></p><p><span>-a选项的作用是解析主机名</span></p><p><span>加入-a选项后，在执行ping命令时，会解析出该ip地址的计算机名即主机名。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8434.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>ping -n 10 </span><a href='http://www.cqjtu.edu.cn'><span>www.cqjtu.edu.cn</span></a></p><p><span>-n选项的作用是设置发送数据包的个数</span></p><p><span>ping命令默认会发4个数据包，加入-n选项并在-n选项后面加上数据包的个数，就可以设置发送的数据包个数。</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8445.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>ping -l 100 </span><a href='http://www.cqjtu.edu.cn'><span>www.cqjtu.edu.cn</span></a></p><p><span>-l选项的作用是设置数据包的大小</span></p><p><span>ping命令默认发送的数据包大小是32字节，加入-l选项并在-l选项后面加上数据包的大小，就可以设置发送的数据包大小。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8446.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>ping -f </span><a href='http://www.baidu.com' target='_blank' class='url'>www.baidu.com</a></p><p><span>-f选项的作用是在数据包中发送&quot;不要分段&quot;标志。</span></p><p><span>加入-f选项后，数据包就不会被路由上的网关分段。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8456.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>ping -i 5 </span><a href='http://www.baidu.com'><span>www.baidu.com</span></a></p><p><span>-i选项的作用是设置数据包的生存时间TTL</span></p><p><span>ping命令的默认TTL是64或128，加入-i选项并且在-i选项后面加上TTL大小，就可以设置数据包TTL的大小，当数据包在网络中被路由器转发超过TTL次之后还没有到达目的IP地址，该数据包就会被路由器丢弃。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8457.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>3、tracert</span></p><p><span>实作一</span></p><p><span>要了解到某计算机如 </span><a href='http://www.cqjtu.edu.cn/'><span>www.baidu.com</span></a><span> 中间经过了哪些节点（路由器）及其它状态，可使用 tracert </span><a href='http://www.baidu.com' target='_blank' class='url'>www.baidu.com</a><span> 命令，查看反馈的信息，了解节点的个数。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8458.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span> </span></p><p><span>实作二</span></p><p><span>ping.pe 这个网站可以探测从全球主要的 ISP 到某站点如 </span><a href='https://qige.io/'><span>https://qige.io</span></a><span> 的线路状态，当然也包括各线路到该主机的路由情况。请使用浏览器访问 </span><a href='http://ping.pe/qige.io' target='_blank' class='url'>http://ping.pe/qige.io</a><span> 进行了解。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8459.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>4、ARP</span></p><p><span>实作一</span></p><p><span>运行 arp -a 命令查看当前的 arp 缓存， 请留意缓存了些什么。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps845A.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>实作二</span></p><p><span>请使用 arp /? 命令了解该命令的各种选项。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps846B.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>实作三</span></p><p><span>一般而言，arp 缓存里常常会有网关的缓存，并且是动态类型的。</span></p><p><span>假设当前网关的 IP 地址是 192.168.0.1，MAC 地址是 5c-d9-98-f1-89-64，请使用 arp -s 192.168.0.1 5c-d9-98-f1-89-64 命令设置其为静态类型的。</span></p><p><span> </span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps846C.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>5、DHCP</span></p><p><span>实作一</span></p><p><span>一般地，我们自动获取的网络配置信息包括：IP 地址、子网掩码、网关 IP 以及 DNS 服务器 IP 等。使用 ipconfig/release 命令释放自动获取的网络配置，并用 ipconfig/renew 命令重新获取，了解 DHCP 工作过程和原理。</span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps846D.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps847E.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps847F.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps848F.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>6、netstat</span></p><p><span>实作一</span></p><p><span>Windows 系统将一些常用的端口与服务记录在 C:\WINDOWS\system32\drivers\etc\services 文件中，请查看该文件了解常用的端口号分配。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8490.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>实作二</span></p><p><span>使用 netstat -an 命令，查看计算机当前的网络连接状况。更多的 netstat 命令选项，可参考上面链接 4 和 5 。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps84A1.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>7、DNS</span></p><p><span>实作一</span></p><p><span>Windows 系统将一些固定的/静态的 DNS 信息记录在 C:\WINDOWS\system32\drivers\etc\hosts 文件中，如我们常用的 localhost 就对应 127.0.0.1 。请查看该文件看看有什么记录在该文件中。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps84B2.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>实作二</span></p><p><span>解析过的 DNS 记录将会被缓存，以利于加快解析速度。请使用 ipconfig /displaydns 命令查看。我们也可以使用 ipconfig /flushdns 命令来清除所有的 DNS 缓存。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps84C2.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>实作三</span></p><p><span>使用 nslookup qige.io 命令，将使用默认的 DNS 服务器查询该域名。当然你也可以指定使用 CloudFlare（1.1.1.1）或 Google（8.8.8.8） 的全球 DNS 服务器来解析，如：nslookup qige.io 8.8.8.8，当然，由于你懂的原因，这不一定会得到正确的答案。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8521.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8532.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>8、cache</span></p><p><span>实作一</span></p><p><span>打开 Chrome 或 Firefox 浏览器，访问 </span><a href='https://qige.io' target='_blank' class='url'>https://qige.io</a><span> ，接下来敲 F12 键 或 Ctrl + Shift + I 组合键打开开发者工具，选择 Network 面板后刷新页面，你会在开发者工具底部看到加载该页面花费的时间。请进一步查看哪些文件被 cache了，哪些没有。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8533.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span> </span></p><p><span>实作二</span></p><p><span>接下来仍在 Network 面板，选择 Disable cache 选项框，表明当前不使用 cache，页面数据全部来自于 Internet，刷新页面，再次在开发者工具底部查看加载该页面花费的时间。你可比对与有 cache 时的加载速度差异。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8543.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span>二、Wireshark实验</span></p><p><span>1、数据链路层</span></p><p><span>实作一熟悉 Ethernet 帧结构</span></p><p><span> </span></p><p><span>使用 Wireshark 任意进行抓包，熟悉 Ethernet 帧的结构，如：目的 MAC、源 MAC、类型、字段等。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8544.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>目的MAC：00:74:9c:9f:40:13</span></p><p><span>源MAC：10:5b:ad:48:08:ed</span></p><p><span>类型：IPv4</span></p><p><span>字段：00 74 9c 9f 40 13 10 5b ad 48 08 ed 08 00</span></p><p><span> </span></p><p><span>实作二了解子网内/外通信时的 MAC 地址</span></p><p><span>1、ping 你旁边的计算机（同一子网），同时用 Wireshark 抓这些包（可使用 icmp 关键字进行过滤以利于分析），记录一下发出帧的目的 MAC 地址以及返回帧的源 MAC 地址是多少？这个 MAC 地址是谁的？</span></p><p><span> </span></p><p><span> </span></p><p><span>ping同一子网的计算机</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8545.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8546.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>发出帧的目的MAC地址：d2:84:79</span>🇩🇪<span>9e:9b</span></p><p><span>返回帧的源MAC地址：d2:84:79</span>🇩🇪<span>9e:9b</span></p><p><span>这个MAC地址是该计算机的MAC地址</span></p><p><span> </span></p><p><span>2、然后 ping qige.io （或者本子网外的主机都可以），同时用 Wireshark 抓这些包（可 icmp 过滤），记录一下发出帧的目的 MAC 地址以及返回帧的源 MAC 地址是多少？这个 MAC 地址是谁的？</span></p><p><span> </span></p><p><span>ping qige.io</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8557.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8558.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>发出帧的目的MAC地址：00:74:9c:9f:40:13</span></p><p><span>返回帧的源MAC地址：00:74:9c:9f:40:13</span></p><p><span>这个MAC地址是网关的MAC地址</span></p><p><span> </span></p><p><span>3、再次 ping </span><a href='http://www.cqjtu.edu.cn' target='_blank' class='url'>www.cqjtu.edu.cn</a><span> （或者本子网外的主机都可以），同时用 Wireshark 抓这些包（可 icmp 过滤），记录一下发出帧的目的 MAC 地址以及返回帧的源 MAC 地址又是多少？这个 MAC 地址又是谁的？</span></p><p><span> </span></p><p><span>ping </span><a href='http://www.cqjtu.edu.cn'><span>www.cqjtu.edu.cn</span></a></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8559.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8569.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>发出帧的目的MAC地址：00:74:9c:9f:40:13</span></p><p><span>返回帧的源MAC地址：00:74:9c:9f:40:13</span></p><p><span>这个MAC地址是网关的MAC地址</span></p><p><span> </span></p><p><span>访问本子网的计算机时，目的 MAC 就是该主机的MAC地址</span></p><p><span>访问非本子网的计算机时，目的 MAC 是网关的MAC地址</span></p><p><span>因为访问同一子网的计算机时，数据包不用离开本子网，也就不用经过网关，所以发出帧的目的MAC地址和返回帧的源MAC地址就是目的计算机的MAC地址；而访问不同子网的计算机时，数据包要离开本子网，数据包就要经过网关，所以发出帧的目的MAC地址和返回帧的源MAC地址就是网关的MAC地址。</span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span>2、网络层</span></p><p><span>实作一熟悉 IP 包结构</span></p><p><span>使用 Wireshark 任意进行抓包（可用 ip 过滤），熟悉 IP 包的结构，如：版本、头部长度、总长度、TTL、协议类型等字段。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps857A.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>版本：4</span></p><p><span>头部长度：20字节</span></p><p><span>总长度：1400字节</span></p><p><span>TTL：102</span></p><p><span>协议类型：TCP</span></p><p><span> </span></p><p><span>实作二IP 包的分段与重组</span></p><p><span>根据规定，一个 IP 包最大可以有 64K 字节。但由于 Ethernet 帧的限制，当 IP 包的数据超过 1500 字节时就会被发送方的数据链路层分段，然后在接收方的网络层重组。</span></p><p><span>缺省的，ping 命令只会向对方发送 32 个字节的数据。我们可以使用 ping 202.202.240.16 -l 2000 命令指定要发送的数据长度。此时使用 Wireshark 抓包（用 ip.addr == 202.202.240.16 进行过滤），了解 IP 包如何进行分段，如：分段标志、偏移量以及每个包的大小等</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps857B.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps857C.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>分段标志：当More fragments=1时表示后面还有分段，当More fragments=0时表示这是最后一个分段，后面没有分段了。</span></p><p><span>偏离量：Fragment Offset表示偏移量，第一个包的偏移量是0，第二个包的偏移量是1480。</span></p><p><span>包的大小：第一个包的总长度为1500个字节，头部长度为20个字节，所以第一个包里的数据长度为1480个字节；第二个包的总长度为548个字节，头部长度为20个字节，所以第二个包里的数据长度为528个字节，。</span></p><p><span> </span></p><p><span> </span></p><p><span>实作三考察 TTL 事件</span></p><p><span>在 IP 包头中有一个 TTL 字段用来限定该包可以在 Internet上传输多少跳（hops），一般该值设置为 64、128等。</span></p><p><span>在验证性实验部分我们使用了 tracert 命令进行路由追踪。其原理是主动设置 IP 包的 TTL 值，从 1 开始逐渐增加，直至到达最终目的主机。</span></p><p><span>请使用 tracert </span><a href='http://www.baidu.com' target='_blank' class='url'>www.baidu.com</a><span> 命令进行追踪，此时使用 Wireshark 抓包（用 icmp 过滤），分析每个发送包的 TTL 是如何进行改变的，从而理解路由追踪原理。</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps858D.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps858E.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>追踪原理：用tracert进行追踪时，发送出去的IP包的ttl被设置为从一开始增加，直到到达目的主机。所以路由器的追踪原理是追踪一个地址，ttl减一。</span></p><p><span> </span></p><p><span>3、传输层</span></p><p><span>实作一熟悉 TCP 和 UDP 段结构</span></p><p><span>用 Wireshark 任意抓包（可用 tcp 过滤），熟悉 TCP 段的结构，如：源端口、目的端口、序列号、确认号、各种标志位等字段。</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps858F.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>源端口：443</span></p><p><span>目的端口：56242</span></p><p><span>序列号：1441</span></p><p><span>确认号：518</span></p><p><span> </span></p><p><span>用 Wireshark 任意抓包（可用 udp 过滤），熟悉 UDP 段的结构，如：源端口、目的端口、长度等。</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps859F.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>源端口：54915</span></p><p><span>目的端口：54915</span></p><p><span>长度：217</span></p><p><span> </span></p><p><span>实作二 分析 TCP 建立和释放连接</span></p><p><span>打开浏览器访问 qige.io 网站，用 Wireshark 抓包（可用 tcp 过滤后再使用加上 Follow TCP Stream），不要立即停止 Wireshark 捕获，待页面显示完毕后再多等一段时间使得能够捕获释放连接的包。</span></p><p><span>请在你捕获的包中找到三次握手建立连接的包，并说明为何它们是用于建立连接的，有什么特征。</span></p><p><span>请在你捕获的包中找到四次挥手释放连接的包，并说明为何它们是用于释放连接的，有什么特征。</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85A0.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85A1.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>4、应用层</span></p><p><span>实作一了解 DNS 解析</span></p><p><span>先使用 ipconfig /flushdns 命令清除缓存，再使用 nslookup qige.io 命令进行解析，同时用 Wireshark 任意抓包（可用 dns 过滤）。</span></p><p><span>先使用 ipconfig /flushdns 命令清除缓存，再使用 nslookup qige.io 命令进行解析，同时用 Wireshark 任意抓包（可用 dns 过滤）。</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85B2.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85B3.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85C4.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span> </span></p><p><span>三、Cisco Packet Tracer 实验</span></p><p><span>1、直接连接两台PC构建LAN</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85C5.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>双击PC进行配置，选择Desktop—&gt;IP Configuration</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85C6.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>配置PC0的IP为192.168.1.1，PC1的IP为192.168.1.2</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85C7.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85D7.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>PC0和PC1能相互ping通</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85D8.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85D9.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span> </span></p><p><span>2、用交换机构建LAN</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85DA.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>各PC的基本网络配置如下表：</span></p><figure><table><thead><tr><th><span>机器名</span></th><th><span>IP</span></th><th><span>子网掩码</span></th></tr></thead><tbody><tr><td><span>PC0</span></td><td><span>192.168.1.1</span></td><td><span>255.255.255.0</span></td></tr><tr><td><span>PC1</span></td><td><span>192.168.1.2</span></td><td><span>255.255.255.0</span></td></tr><tr><td><span>PC2</span></td><td><span>192.168.2.1</span></td><td><span>255.255.255.0</span></td></tr><tr><td><span>PC3</span></td><td><span>192.168.2.2</span></td><td><span>255.255.255.0</span></td></tr></tbody></table></figure><p><span> 问题</span></p><p><span>（1）PC0 能否 ping 通 PC1、PC2、PC3 ？</span></p><p><span>PC0能ping通PC1，不能ping通PC2和PC3</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps85FA.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>（2）PC3 能否 ping 通 PC0、PC1、PC2 ？为什么？</span></p><p><span>PC3不能ping通PC0和PC1，能ping通PC2。</span></p><p><span>因为PC3与PC2在同一个子网，与PC0和PC1不在同一个子网</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps860B.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>（3）将 4 台 PC 的掩码都改为 255.255.0.0 ，它们相互能 ping 通吗？为什么？</span></p><p><span>能互相ping通，因为现在4台PC在同一个子网里，4台PC的IP地址与子网掩码255.255.0.0相与后的结果都是192.168.0.0，都处于同一子网。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps860C.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>（4）使用二层交换机连接的网络需要配置网关吗？为什么？</span></p><p><span>不需要，因为二层交换机是在子网内部进行数据传输，不需要用到网关。</span></p><p><span>3、交换机接口地址</span></p><p><span>switch2空的MAC表</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps860D.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>PC0 ping PC1</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps860E.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>PC0 ping 了PC1之后的MAC表</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps860F.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>MAC表的生成是利用顺向/逆向学习的方式进行添加的，当一条消息发送到一个交换机的时候，它是先在MAC表中寻找，看是否有对应的MAC地址，如果有，就转发到对应的端口（若处于接收端口，就丢弃），否则就以广播的方式发送，当目的机收到后，就会回复消息，然后，交换机就会把MAC地址添加到MAC表中。</span></p><p><span> </span></p><p><span>4、生成树协议</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8620.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>Switch6与Switch7之间和Switch6与Switch8之间虽然物理上是连接的，但是实际上是阻塞的，无法进行通信。</span></p><p><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8621.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>若Switch6与Switch9之间的线路出现问题，会重新根据STP协议生成一个新的生成树</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8622.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>5、路由器配置初步</span></p><p><span>我们模拟重庆交通大学和重庆大学两个学校的连接，构建如下拓扑：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8623.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>说明一</span></p><p><span>交通大学与重庆大学显然是两个不同的子网。在不同子网间通信需通过路由器。</span></p><p><span>路由器的每个接口下至少是一个子网，图中我们简单的规划了 3 个子网：</span></p><p><span>（1）左边路由器是交通大学的，其下使用交换机连接交通大学的网络，分配网络号 192.168.1.0/24，该路由器接口也是交通大学网络的网关，分配 IP 为 192.168.1.1</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8624.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>（2）右边路由器是重庆大学的，其下使用交换机连接重庆大学的网络，分配网络号 192.168.3.0/24，该路由器接口也是重庆大学网络的网关，分配 IP 为 192.168.3.1</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8634.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>（3）两个路由器之间使用广域网接口相连，也是一个子网，分配网络号 192.168.2.0/24</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8635.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8646.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>说明二</span></p><p><span>现实中，交通大学和重庆大学的连接是远程的。该连接要么通过路由器的光纤接口，要么通过广域网接口即所谓的 serial 口（如拓扑图所示）进行，一般不会通过双绞线连接（为什么？）。</span></p><p><span>因为双绞线的传输距离只有100米，光纤可以实现远距离传输。</span></p><p><span> </span></p><p><span>下面我们以通过路由器的广域网口连接为例来进行相关配置。请注意：我们选用的路由器默认没有广域网模块（名称为 WIC-1T 等），需要关闭路由器后添加，然后再开机启动。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8647.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>说明三</span></p><p><span>在模拟的广域网连接中需注意 DCE 和 DTE 端（连线时线路上有提示，带一个时钟标志的是 DCE 端。有关 DCE 和 DTE 的概念请查阅相关资料。），在 DCE 端需配置时钟频率 64000</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8648.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>说明四</span></p><p><span>路由器有多种命令行配置模式，每种模式对应不同的提示符及相应的权限。</span></p><p><span>请留意在正确的模式下输入配置相关的命令。</span></p><p><span>User mode：用户模式</span></p><p><span>Privileged mode：特权模式</span></p><p><span>Global configuration mode：全局配置模式</span></p><p><span>Interface mode：接口配置模式</span></p><p><span>Subinterface mode：子接口配置模式</span></p><p><span> </span></p><p><span>说明五</span></p><p><span>在现实中，对新的路由器，显然不能远程进行配置，我们必须在现场通过笔记本的串口与路由器的 console 接口连接并进行初次的配置（注意设置比特率为9600）后，才能通过网络远程进行配置。这也是上图左上画出笔记本连接的用意。</span></p><p><span> </span></p><p><span>说明六</span></p><p><span>在路由器的 CLI 界面中，可看到路由器刚启动成功后，因为无任何配置，将会提示是否进行对话配置（Would you like to enter the initial configuration dialog?），因其步骤繁多，请选择 NO</span></p><p><span> </span></p><p><span> 问题</span></p><p><span>现在交通大学内的各 PC 及网关相互能 ping 通，重庆大学也类似。但不能从交大的 PC ping 通重大的 PC，反之亦然，也即不能跨子网。为什么？</span></p><p><span>路由器不知道到其他子网的路，所以跨子网ping不通。另外如果是内部地址，在没有使用NAT协议的时候，是不能跨子网通信的。</span></p><p><span> </span></p><p><span>6、静态路由</span></p><p><span>静态路由是非自适应性路由协议，是由网络管理人员手动配置的，不能够根据网络拓扑的变化而改变。 因此，静态路由简单高效，适用于结构非常简单的网络。</span></p><p><span>在当前这个简单的拓扑结构中我们可以使用静态路由，即直接告诉路由器到某网络该怎么走即可。</span></p><p><span>在前述路由器基本配置成功的情况下使用以下命令进行静态路由协议的配置：</span></p><p><span>交通大学路由器静态路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8649.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>重庆大学路由器静态路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps864A.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>查看路由表你可看到标记为 S 的一条路由，S 表示 Static 。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps865B.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>至此，这些 PC 能全部相互 ping 通！</span></p><p><span> </span></p><p><span>7、动态路由RIP</span></p><p><span>动态路由协议采用自适应路由算法，能够根据网络拓扑的变化而重新计算机最佳路由。</span></p><p><span> </span></p><p><span>RIP 的全称是 Routing Information Protocol，是距离矢量路由的代表（目前虽然淘汰，但可作为我们学习的对象）。使用 RIP 协议只需要告诉路由器直接相连有哪些网络即可，然后 RIP 根据算法自动构建出路由表。</span></p><p><span> </span></p><p><span>因为我们模拟的网络非常简单，因此不能同时使用静态和动态路由，否则看不出效果，所以我们需要把刚才配置的静态路由先清除掉。</span></p><p><span> </span></p><p><span>清除静态路由配置：</span></p><p><span>（1）直接关闭路由器电源。相当于没有保存任何配置，然后各接口再按照前面基本配置所述重新配置 IP 等参数（推荐此方法，可以再熟悉一下接口的配置命令）；</span></p><p><span>（2）使用 no 命令清除静态路由。在全局配置模式下，交通大学路由器使用：no ip route 192.168.3.0 255.255.255.0 192.168.2.2，重庆大学路由器使用：no ip route 192.168.1.0 255.255.255.0 192.168.2.1 。相当于使用 no 命令把刚才配置的静态路由命令给取消</span></p><p><span> </span></p><p><span>交通大学路由器 RIP 路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps865C.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>重庆大学路由器 RIP 路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps865D.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>查看路由表你可看到标记为 R 的一条路由，R 表示 RIP 。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps865E.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>至此，这些 PC 也能全部相互 ping 通！</span></p><p><span> </span></p><p><span> </span></p><p><span>8、动态路由OSPF</span></p><p><span>OSPF（Open Shortest Path First 开放式最短路径优先）是一个内部网关协议（Interior Gateway Protocol，简称 IGP）， 用于在单一自治系统（Autonomous System，AS）内决策路由。OSPF 性能优于 RIP，是当前域内路由广泛使用的路由协议。</span></p><p><span> </span></p><p><span>同样的，我们需要把刚才配置的 RIP 路由先清除掉。</span></p><p><span> </span></p><p><span>清除 RIP 路由配置：</span></p><p><span>（1）直接关闭路由器电源。相当于没有保存任何配置，然后各接口再按照前面基本配置所述重新配置 IP 等参数</span></p><p><span>（2）使用 no 命令清除 RIP 路由。在全局配置模式下，各路由器都使用：no router rip 命令进行清除</span></p><p><span> </span></p><p><span>交通大学路由器 OSPF 路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps865F.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>重庆大学路由器 OSPF 路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps866F.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>查看路由表你可看到标记为 O 的一条路由，O 表示 OSPF 。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8670.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>至此，这些 PC 能全部相互 ping 通！</span></p><p><span> </span></p><p><span>9、基于端口的网络地址翻译PAT</span></p><p><span>网络地址转换（NAT，Network Address Translation）被各个 Internet 服务商即 ISP 广泛应用于它们的网络中，也包括 WiFi 网络。 原因很简单，NAT 不仅完美地解决了 lP 地址不足的问题，而且还能够有效地避免来自网络外部的攻击，隐藏并保护网络内部的计算机。</span></p><p><span> </span></p><p><span>NAT 的实现方式一般有三种：</span></p><p><span>静态转换： Static NAT</span></p><p><span>动态转换： Dynamic NAT</span></p><p><span>端口多路复用： OverLoad</span></p><p><span> </span></p><p><span>端口多路复用使用最多也最灵活。OverLoad 是指不仅改变发向 Internet 数据包的源 IP 地址，同时还改变其源端口，即进行了端口地址转换（PAT，Port Address Translation）。</span></p><p><span> </span></p><p><span>采用端口多路复用方式，内部网络的所有主机均可共享一个合法外部 IP 地址实现对 Internet 的访问，从而可以最大限度地节约IP地址资源。 同时，又可隐藏网络内部的所有主机，有效避免来自 Internet 的攻击。因此，目前网络中应用最多的就是端口多路复用方式。</span></p><p><span> </span></p><p><span>我们仍然使用重庆交通大学和重庆大学两个学校的拓扑进行 PAT 实验。我们需要保证两个学校的路由已经配置成功，无论使用静态路由还是动态路由，以下我们给出完整的配置过程：设定这两个学校的路由器使用 OSPF 协议，模拟交通大学使用内部 IP 地址（192.168.1.0/24），模拟重庆大学使用外部 IP 地址（8.8.8.0/24），两个路由器之间使用外部 IP 地址（202.202.240.0/24），在交通大学的出口位置即广域网口实施 PAT。</span></p><p><span> </span></p><p><span>拓扑图中各 PC 配置数据如下：</span></p><figure><table><thead><tr><th><span>节点名</span></th><th><span>IP</span></th><th><span>子网掩码</span></th><th><span>网关</span></th></tr></thead><tbody><tr><td><span>交通大学 PC8</span></td><td><span>192.168.1.2</span></td><td><span>255.255.255.0</span></td><td><span>192.168.1.1</span></td></tr><tr><td><span>交通大学 PC9</span></td><td><span>192.168.1.3</span></td><td><span>255.255.255.0</span></td><td><span>192.168.1.1</span></td></tr><tr><td><span>重庆大学 PC10</span></td><td><span>8.8.8.2</span></td><td><span>255.255.255.0</span></td><td><span>8.8.8.1</span></td></tr><tr><td><span>重庆大学 PC11</span></td><td><span>8.8.8.3</span></td><td><span>255.255.255.0</span></td><td><span>8.8.8.1</span></td></tr></tbody></table></figure><p><span>拓扑图中路由器各接口配置数据如下：</span></p><figure><table><thead><tr><th><span>接口名</span></th><th><span>IP</span></th><th><span>子网掩码</span></th></tr></thead><tbody><tr><td><span>交通大学 Router5 以太网口</span></td><td><span>192.168.1.1</span></td><td><span>255.255.255.0</span></td></tr><tr><td><span>交通大学 Router5 广域网口</span></td><td><span>202.202.240.1</span></td><td><span>255.255.255.0</span></td></tr><tr><td><span>重庆大学 Router6 以太网口</span></td><td><span>8.8.8.1</span></td><td><span>255.255.255.0</span></td></tr><tr><td><span>重庆大学 Router6 广域网口</span></td><td><span>202.202.240.2</span></td><td><span>255.255.255.0</span></td></tr></tbody></table></figure><p><span>交通大学路由器接口配置如下：</span></p><p><span>以太网口：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8671.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>广域网口：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8672.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>重庆大学路由器接口配置如下：</span></p><p><span>以太网口：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8683.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>广域网口：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8684.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>交通大学路由器 OSPF 路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8685.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>重庆大学路由器 OSPF 路由配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8686.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>此时，这些 PC 能全部相互 ping 通！如在交通大学内部使用 PC8（192.168.1.2）来 ping 重庆大学的PC10（8.8.8.2）应该成功。</span></p><p><span> </span></p><p><span>10、虚拟局域网VLAN</span></p><p><span>在实际网络中（如</span><a href='http://202.202.240.162/plugins/weathermap/view.php'><span>我校的网络</span></a><span>），你可看到路由器一般位于网络的边界，而内部几乎全部使用交换机连接。</span></p><p><span> </span></p><p><span>前面我们分析过，交换机连接的是同一个子网！ 显然，在这样一个大型规模的子网中进行广播甚至产生广播风暴将严重影响网络性能甚至瘫痪。</span></p><p><span> </span></p><p><span>另外我们也已经知道，其实学校是划分了 N 多个子网的，那么这些交换机连接的就绝不是一个子网！这样矛盾的事情该如何解释呢？我们实际上使用了支持 VLAN 的交换机！而前述的交换机只是普通的 2 层交换机（或者我们把它当作 2 层交换机在使用。</span></p><p><span> </span></p><p><span>VLAN（Virtual Local Area Network）即虚拟局域网。通过划分 VLAN，我们可以把一个物理网络划分为多个逻辑网段即多个子网。</span></p><p><span> </span></p><p><span>划分 VLAN 后可以杜绝网络广播风暴，增强网络的安全性，便于进行统一管理等。</span></p><p><span>在 CPT 中构建如下图所示拓扑：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8687.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>Cisco 2960 交换机是支持 VLAN 的交换机，共有 24 个 100M 和 2 个 1000M 以太网口。默认所有的接口都在 VLAN 1 中，故此时连接上来的计算机都处于同一 VLAN，可以进行通信。</span></p><p><span> </span></p><p><span>下面我们就该交换机的 24 个 100M 接口分为 3 个部分，划分到 3 个不同的 VLAN 中，id 号分别设为 10、20、30，且设置别名（computer、communication、electronic）以利于区分和管理。</span></p><p><span> </span></p><p><span>交换机 VLAN 配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8688.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8698.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>至此，在该交换机上我们就划分了 3 个 VLAN（不包括缺省的 VLAN 1）。</span></p><p><span>各 VLAN 下 PC 的网络配置及连接的交换机接口如下表：</span></p><figure><table><thead><tr><th><span>机器名</span></th><th><span>连接的接口</span></th><th><span>所属VLAN</span></th><th><span>IP</span></th><th><span>子网掩码</span></th><th><span>网关</span></th></tr></thead><tbody><tr><td><span>PC12</span></td><td><span>F0/1</span></td><td><span>VLAN10</span></td><td><span>192.168.0.2</span></td><td><span>255.255.255.0</span></td><td><span>192.168.0.1</span></td></tr><tr><td><span>PC13</span></td><td><span>F0/2</span></td><td><span>VLAN10</span></td><td><span>192.168.0.3</span></td><td><span>255.255.255.0</span></td><td><span>192.168.0.1</span></td></tr><tr><td><span>PC14</span></td><td><span>F0/17</span></td><td><span>VLAN30</span></td><td><span>192.168.2.2</span></td><td><span>255.255.255.0</span></td><td><span>192.168.2.1</span></td></tr><tr><td><span>PC15</span></td><td><span>F0/9</span></td><td><span>VLAN20</span></td><td><span>192.168.1.2</span></td><td><span>255.255.255.0</span></td><td><span>192.168.1.1</span></td></tr><tr><td><span>PC16</span></td><td><span>F0/10</span></td><td><span>VLAN20</span></td><td><span>192.168.1.3</span></td><td><span>255.255.255.0</span></td><td><span>192.168.1.1</span></td></tr><tr><td><span>PC17</span></td><td><span>F0/18</span></td><td><span>VLAN30</span></td><td><span>192.168.2.3</span></td><td><span>255.255.255.0</span></td><td><span>192.168.2.1</span></td></tr><tr><td><span>PC18</span></td><td><span>F0/19</span></td><td><span>VLAN30</span></td><td><span>192.168.2.4</span></td><td><span>255.255.255.0</span></td><td><span>192.168.2.1</span></td></tr></tbody></table></figure><p><span> </span></p><p><span> </span></p><p><span>11、虚拟局域网管理VTP</span></p><p><span>前一个实验我们在交换机上进行了 VLAN 的规划和划分。但在实际应用中，我们绝不允许在这些支持VLAN的交换机上进行随意的 VLAN 划分，如此将造成管理混乱！VLAN的划分必须得到统一的规划和管理，这就需要 VTP 协议。</span></p><p><span> </span></p><p><span>VTP（VLAN Trunk Protocol）即 VLAN 中继协议。VTP 通过 ISL 帧或 Cisco 私有 DTP 帧（可查阅相关资料了解）保持 VLAN 配置统一性，也被称为虚拟局域网干道协议，它是思科私有协议。 VTP 统一管理、增加、删除、调整VLAN，自动地将信息向网络中其它的交换机广播。</span></p><p><span> </span></p><p><span>此外，VTP 减小了那些可能导致安全问题的配置，只要在 VTP Server 做相应设置，VTP Client 会自动学习 VTP Server 上的 VLAN 信息。</span></p><p><span> </span></p><p><span>为演示 VTP，重新构建如下拓扑结构：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps8699.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>目前该网络都属于 VLAN 1，也即这些 PC 是可以相互通信的。前面说过，无论对于性能、管理还是安全等而言，现实中我们必须进行 VLAN 划分。</span></p><p><span> </span></p><p><span>现在我们的要求是：新建两个 VLAN，然后让 PC0 和 PC1 属于 VLAN 2，PC1 和 PC3 属于 VLAN 3。</span></p><p><span> </span></p><p><span>我们将在核心交换机 3560上进行如下工作：</span></p><p><span>设置为 server 模式，VTP 域为 cqjtu</span></p><p><span>新建 VLAN 2，网络号 192.168.1.0/24，网关 192.168.1.1</span></p><p><span>新建 VLAN 3，网络号 192.168.2.0/24，网关 192.168.2.1</span></p><p><span> </span></p><p><span>3560 VTP Server 配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps869A.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>我们将在左边交换机 2960A 上进行如下工作：</span></p><p><span>加入名为 cqjtu 的 VTP 域</span></p><p><span>配置与核心交换机 3560 连接的千兆接口 g0/1 为 trunk 模式</span></p><p><span>将接口 f0/1 划分到 VLAN 2 中</span></p><p><span>将接口 f0/2 划分到 VLAN 3 中</span></p><p><span> </span></p><p><span>2960A（左边） VTP Client 配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps869B.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>我们将在右边交换机 2960B 上进行同样的工作：</span></p><p><span>加入名为 cqjtu VTP 域</span></p><p><span>配置与核心交换机 3560 连接的千兆接口 g0/1 为 trunk 模式</span></p><p><span>将接口 f0/1 划分到 VLAN 2 中</span></p><p><span>将接口 f0/2 划分到 VLAN 3 中</span></p><p><span> </span></p><p><span>2960B（右边） VTP Client 配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86AC.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>至此，各交换机配置完毕。</span></p><p><span>各 PC 连接的交换机和接口以及网络配置如下：</span></p><figure><table><thead><tr><th>&nbsp;</th><th><span>机器名</span></th><th><span>连接的交换机和接口</span></th><th><span>所属VLAN</span></th><th><span>IP</span></th><th><span>子网掩码</span></th></tr></thead><tbody><tr><td>&nbsp;</td><td><span>PC0</span></td><td><span>2960A-F0/1</span></td><td><span>VLAN 2</span></td><td><span>192.168.1.2</span></td><td><span>255.255.255.0</span></td></tr><tr><td>&nbsp;</td><td><span>PC1</span></td><td><span>2960A-F0/2</span></td><td><span>VLAN 3</span></td><td><span>192.168.2.2</span></td><td><span>255.255.255.0</span></td></tr><tr><td>&nbsp;</td><td><span>PC2</span></td><td><span>2960B-F0/1</span></td><td><span>VLAN 2</span></td><td><span>192.168.1.3</span></td><td><span>255.255.255.0</span></td></tr><tr><td>&nbsp;</td><td><span>PC3</span></td><td><span>2960B-F0/2</span></td><td><span>VLAN 3</span></td><td><span>192.168.2.3</span></td><td><span>255.255.255.0</span></td></tr></tbody></table></figure><p><span>至此，VTP 配置完成。同 VLAN 可以 ping 通，而不同 VLAN 不行（即使在同一交换机下，如从 PC0 到 PC1），且能够方便的统一规划和管理。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86AD.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>12、VLAN间的通信</span></p><p><span>VTP 只是给我们划分和管理 VLAN 提供了方便，由上面的测试得知，目前我们仍然不能在 VLAN 间通信。</span></p><p><span> </span></p><p><span>因为默认的，VLAN 间是不允许进行通信，此时我们需要所谓的独臂路由器在 VLAN 间为其进行转发！</span></p><p><span> </span></p><p><span>我们使用的核心交换机 3560 是个 3 层交换机，可工作在网络层，也称路由交换机，即具有路由功能，能进行这种转发操作。</span></p><p><span> </span></p><p><span>3560 交换机配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86AE.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>至此，各 VLAN 中的 PC 可以正常通信。</span></p><p><span> </span></p><p><span> </span></p><p><span>13、DHCP、DNS及Web服务器简单配置</span></p><p><span>动态主机配置 DHCP、域名解析 DNS 以及 Web 服务在日常应用中作用巨大，我们构建如下简单的拓扑来进行练习。</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86BF.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span>该拓扑中，服务器及客户机都连在同一交换机上。为简单起见，服务器 Server-PT 同时作为 DHCP、DNS 以及 Web 服务器，各客户机无需配置，将自动获取网络配置。</span></p><p><span> </span></p><p><span>点击 CPT 拓扑图中的 Server 图标，设置其静态 IP 地址为 19.89.6.4/24，然后选择 Service 进行如下相关配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86CF.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86D0.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86D1.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86D2.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span>14、WLAN初步配置</span></p><p><span>WLAN 即 WiFi 当前也是广泛的应用在各种场景。</span></p><p><span>我们通过构建如下拓扑的一个家庭 WLAN 来练习一下其相关的配置：</span></p><p><img src="file:///C:\Users\DELL\AppData\Local\Temp\ksohtml\wps86E3.tmp.jpg" referrerpolicy="no-referrer" alt="img"><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p><p><span> </span></p></div>
</body>
</html>